<style>
    /* ------------------------------------------------------------------------ Ihr CSS - Style - Code */
</style>

<main>
    <h3>
        Aufgabe E1: Daten mit Handlebars darstellen
        <span class="right">3 Pkt.</span>
    </h3>
    <table>
        <tr>
            <td width="50%">
                <h6>To Do:</h6>
                Ein JSON ist mit Handlebars darzustellen (der Variablenname ist in JS bereits definiert: <i>mydata</i>)
                <ol>
                    <li>Daten werden mit Handlebars dargestell (2 Punkte)</li>
                    <li>Beim Klick auf den "edit" - Button wird die id des Datensatzes in der Konsole ausgegeben (1 Punkt)</li>
                </ol>
                <hr>
                <b>Kompetenz:</b>
                <ul class="list-initial">
                    <li>
                        Daten können dargestellt werden
                    </li>
                </ul>
                <hr>
                <b>Lösungsvorschau:</b>
                <br>
                <img src="img/e1.gif">



            </td>
            <td>
                <h6 class="red lighten-4">Ihre Lösung:</h6>
                <!-- ------------------------------------------------------------------------ Ihr HTML - Code -->
                <table id="test-datatable" >
                    <thead class="white-text" style="background-color: #393E46;">
                    <tr>
                        <th>id</th>
                        <th>Name</th>
                        <th>events</th>
                    </tr>
                    </thead>
                    <tbody>
            
                    </tbody>
                </table>

            </td>
        </tr>
    </table>
</main>

<script>
    /* ------------------------------------------------------------------------ Ihr JS - Code */
    // JSON - Daten:
    let template = $('#template').html();
    let hb_template = Handlebars.compile(template);
    $.getJSON("api.min.php",
        function (response){
            console.log(hb_template(response));
            $('#test-datatable tbody').html(hb_template(response));
            $('#test-datatable tbody tr .edit-button').click(function (e) { 
        e.preventDefault();
        let id = $(this).closest('tr').attr('data-id');
         console.log(id);
    });
        });

    // $('.btn').click(function (e) { 
    //     e.preventDefault();
    //     let id = $(this).closest('tr').attr('data-id');
    //     console.log(id);
    //     console.log("Halo");
    // });
    
</script>

<script id="template" type="text/x-handlebars-template">
    {{#each data}}
        <tr data-id="{{id}}" class="test-datatable-row">
            <td>{{id}}</td>
            <td>{{name}}</td>
            <td>
                <div class="btn edit-button">edit</div>
            </td>
        </tr>
    {{/each}}


</script>